<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:p="http://primefaces.org/ui"
      xmlns:f="http://java.sun.com/jsf/core">

    <body>
        <ui:composition template="./mainTemplate.xhtml">
            <ui:define name="css">
                <h:outputStylesheet name="css/modifierAnnonce.css"/>
            </ui:define>

            <ui:define name="content">

                <f:metadata>
                    <f:viewParam name="id" value="#{id}" for="id" id="id"/>
                </f:metadata>

                <h:form>
                    <h1>Editer une annonce</h1>
                <h:panelGrid style="text-align: center">
                    <p:row id="tableau">
                        <p:column id="annonce">
                            <h:panelGrid>
                                <h:outputLabel for="titre" value="Titre :" />
                                <p:inputText id="titre" value="#{modifierAnnonce.getAnnonce(id).titre}" required="true"/>
                                <p:message for="titre" />

                                <h:outputLabel for="type" value="Type :" />
                                <h:outputText id="type" value="#{modifierAnnonce.getAnnonce(id).type}"/>
                                <p:message for="type" />

                                <h:outputLabel for="datePublication" value="Date de la publication :" />
                                <h:outputText id="datePublication" value="#{modifierAnnonce.getAnnonce(id).datePublication}"/>
                                <p:message for="datePublication" />

                                <h:outputLabel for="auteur" value="Auteur :" />
                                <h:outputText id="auteur" value="#{modifierAnnonce.getAnnonce(id).auteur.pseudo}"/>
                                <p:message for="auteur" />                             

                                <!--<p:row>
                                    <p:column colspan="2" id="tags">
                                        <h:outputLabel for="tags" value="Tags" />
                                        <p:inputText  id="ti" value="Tags" required="true">
                                        </p:inputText>
                                        <p:message for="tags" display="icon" />
                                        <h:outputText value="#{validationView.text}" />
                                    </p:column>
                                </p:row>-->

                                <h:outputLabel for="prix" value="Prix :" />
                                <p:inputText id="prix" value="#{modifierAnnonce.getAnnonce(id).prix}" required="true"/>
                                <p:message for="prix" />

                                <h:outputLabel for="codePostal" value="Code Postal :" />
                                <p:inputText id="codePostal" value="#{modifierAnnonce.getAnnonce(id).codePostal}" required="true"/>
                                <p:message for="codePostal" />

                                <h:outputLabel for="description" value="Description :" />
                                <p:inputTextarea id="description" value="#{modifierAnnonce.getAnnonce(id).description}" rows = "6" cols ="33">
                                    <p:clientValidator event="keyup"/>
                                </p:inputTextarea>
                                <p:message for="description" />

                            </h:panelGrid>
                        </p:column>

                    </p:row> 
                </h:panelGrid>

                <p:growl id="growl" life="3000" />
                <p:commandButton value="Valider la modification de l'annonce" actionListener="#{modifierAnnonce.modificationAnnonce()}" update=":#{p:component('growl')}"/>
                </h:form>
            </ui:define>
        </ui:composition>
    </body>
</html>